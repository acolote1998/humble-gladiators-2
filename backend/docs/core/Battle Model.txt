Battle entity (@Entity)

Long id
@OneToMany List<Turn> turns // All turns in this battle for reconstruction
@OneToMany List<CharacterSnapshot> startingTeamOne // Snapshot of team 1 at battle start
@OneToMany List<CharacterSnapshot> startingTeamTwo // Snapshot of team 2 at battle start
@OneToMany List<CharacterInstance> winningTeam // Populated after battle completion
@OneToMany List<CharacterInstance> losingTeam // Populated after battle completion
@ManyToOne CharacterInstance currentCharacterToPlay // Current character whose turn it is
boolean ongoing // Whether battle is still active
@CreationTimestamp LocalDateTime createdAt // Auto-managed by JPA
@UpdateTimestamp LocalDateTime updatedAt // Auto-managed by JPA

JPA Configuration:
- All @OneToMany relationships use FetchType.LAZY and CascadeType.ALL
- Proper @JoinColumn mappings for database relationships

Battle Flow:
1. Battle starts - system creates CharacterSnapshots of all participants
2. For each turn - system creates Turn entity with Action details
3. Battle continues until one team is defeated
4. Upon completion - system populates winningTeam and losingTeam lists
5. Battle can be reconstructed by replaying turns in order